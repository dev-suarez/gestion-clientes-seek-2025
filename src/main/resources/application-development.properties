# =====================================================
# Configuración para DESARROLLO LOCAL
# =====================================================
# Perfil: development
# Uso: Desarrollo local con MySQL local
# Activación: -Dspring.profiles.active=development
# =====================================================

# Base de datos local
spring.datasource.url=jdbc:mysql://localhost:3306/client_management?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=root

# Pool de conexiones para desarrollo
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000

# Configuración JPA para desarrollo
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.properties.hibernate.use_sql_comments=true

# JWT para desarrollo (menos seguro, para facilitar testing)
app.jwt.secret=mySecretKeyForDevelopmentThatShouldBeChangedInProduction
app.jwt.expiration=3600000

# Logging detallado en desarrollo
logging.level.com.desafio.clientes=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.flywaydb=INFO
logging.level.org.springframework.boot.autoconfigure=INFO

# Archivo de logs local
logging.file.name=logs/clientes-dev.log
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.max-history=30

# Actuator completo en desarrollo (para debugging)
management.endpoints.web.exposure.include=health,info,metrics,env,beans,flyway,configprops,mappings,threaddump,heapdump
management.endpoint.health.show-details=when_authorized
management.endpoint.configprops.show-values=when_authorized

# CORS permisivo para desarrollo local
spring.web.cors.allowed-origins=http://localhost:3000,http://localhost:4200,http://localhost:8080
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true

# Configuración de desarrollo adicional
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true

# Configuración de cache deshabilitada en desarrollo
spring.jpa.properties.hibernate.cache.use_second_level_cache=false
spring.jpa.properties.hibernate.cache.use_query_cache=false